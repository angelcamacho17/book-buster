
<base-component>
<loading-spinner *ngIf="loading"></loading-spinner>
<div class="page-content" *ngIf="!loading && initState">
  <div class="content" >
    <div class="header-extension"></div>
    <mat-card class="customer-row mat-elevation-z4">
      <div class="customer-info">
        <div class="avatar">
          <div class="mat-body-2 initials-sidenav" [ngClass]="currentOrder?.customer?.smallIcon ? 'mat-body-1' : ''">
            {{ initials }}</div>
          </div>
          <div class="item">
            <div class="item-info">
              <h3 class="mat-headline title">
                {{ currentOrder?.customer?.name }}
              </h3>
            <div class="mat-body-1 subtitle text-truncate">
              {{ currentOrder?.customer?.email }}
            </div>
          </div>
        </div>
        <mat-icon (click)="changeCustomer()">
          link_off
        </mat-icon>
      </div>
      <mat-divider></mat-divider>
      <div class="total">
        <h3 class="mat-headline" style="margin: 0px;">
          {{ 'totalamt' | translate }}
        </h3>
        <div class="amount mat-body-2">
          â‚¬ {{ orderService.getTotal() | number : '1.2-2' }}
        </div>
      </div>
    </mat-card>
    <mat-card class="order-items mat-elevation-z4" (click)="openItems()">
      <div>
        <div class="title mat-subheading-2">
          {{ 'orderitems' | translate }}
        </div>
        <div class="items mat-body-1">
          {{ this.currentOrder.articlesLines ? this.currentOrder.articlesLines.length : 0 }} {{ 'items' | translate }}
        </div>
      </div>
      <mat-icon style="align-self: center; color: rgba(0, 0, 0, 0.6)">
        keyboard_arrow_right
      </mat-icon>
    </mat-card>
  </div>

  <footer>
    <button mat-button class="fe-button" (click)="orderConfirmed()">
      {{ ('confirm' | translate) | uppercase }}
    </button>
  </footer>
</div>
<!-- <loading-state *ngIf="loading"></loading-state> -->
</base-component>

